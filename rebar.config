{erl_opts, [debug_info, warn_export_vars, warn_shadow_vars, warn_obsolete_guard]}.
{shell, [{config, "config/wok.config"}]}.

{plugins, [rebar3_elixir]}.

{elixir_bindings, [wok, wok_request, wok_response, wok_routes, wok_message]}.

{deps, [
  {lager, "~> 3.2.0"},
  {wok_http_adapter, {git, "git@gitlab.botsunit.com:msaas/wok_http_adapter.git", {branch, "master"}}},
  {wok_message_handler, {git, "git@gitlab.botsunit.com:msaas/wok_message_handler.git", {branch, "master"}}},
  {wok_producer, {git, "git@gitlab.botsunit.com:msaas/wok_producer.git", {branch, "master"}}},
  {pipette, {git, "git@gitlab.botsunit.com:msaas/pipette.git", {branch, "master"}}},
  {kafe, {git, "https://github.com/botsunit/kafe.git", {branch, "master"}}},
  {cowboy_default_static_file, {git, "https://github.com/botsunit/cowboy_default_static_file.git", {branch, "master"}}},
  {cowboy, {git, "https://github.com/ninenines/cowboy.git", {tag, "2.0.0-pre.3"}}},
  {bucs, {git, "https://github.com/botsunit/bucs.git", {branch, "master"}}},
  {doteki, {git, "https://github.com/botsunit/doteki.git", {branch, "master"}}},
  {uuid, {git, "https://github.com/avtobiff/erlang-uuid.git", {tag, "v0.5.0"}}},
  {tempfile, {git, "https://github.com/botsunit/tempfile.git", {branch, "master"}}}
 ]}.


{eunit_opts, [
              verbose, {report, {eunit_surefire, [{dir, "test/eunit"}]}}
             ]}.
{pre_hooks, [{eunit, "mkdir -p test/eunit"}]}.

{profiles, [
            {test, [
                    {deps, [
                            meck,
                            {wok_tests, {git, "git@gitlab.botsunit.com:msaas/wok_tests.git", {branch, "master"}}}
                           ]}
                   ]},
            {doc, [
                   {deps, [
                           {edown, {git, "https://github.com/botsunit/edown.git", {branch, "master"}}}
                          ]},
                   {edoc_opts, [
                                {doclet, edown_doclet}
                                , {app_default, "http://www.erlang.org/doc/man"}
                                , {source_path, ["src"]}
                                , {overview, "overview.edoc"}
                                , {stylesheet, ""}
                                , {image, ""}
                                , {edown_target, gitlab}
                                , {top_level_readme, {"./README.md", "https://gitlab.botsunit.com/msaas/wok"}}
                               ]}
                   ]}
           ]}.

